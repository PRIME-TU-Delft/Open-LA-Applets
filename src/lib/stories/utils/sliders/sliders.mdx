import { Canvas, Meta, Source } from '@storybook/blocks';

import * as SlidersStory from './sliders.stories';

<Meta of={SlidersStory} />

# Sliders

Sliders are crucial for UIs as they enable developers to add interactivity
to their applets. An applet can have multiple sliders, but the maximum
limit is 3. In this section, you'll find a range of sliders to choose from.

An example of such a slider is shown below:

<Source language="html" code={`<script lang="ts">
  import { Slider, Sliders } from '$lib/utils/Slider';
  import Canvas from '$lib/d3-components/Canvas.svelte';
  
  const sliders = new Sliders().add(new Slider(0.5, -2, 2, 0.5, PrimeColor.darkGreen));
</script>

<canvas bind:sliders>
  <!-- Your content here -->
  <!-- slider values can be accessed in the canvas by providing the {sliders.x}, {sliders.y} and {sliders.z} variables -->
</canvas>`} />

The result of the above code is shown below:

<Canvas of={SlidersStory.OneSlider} />

The end-user can drag the slider or choose to let it auto-play. In auto-play mode,
the slider moves back and forth in discrete steps, demonstrating the range of movement
for the interactive element. The auto-play mode can be stopped by either clicking the
pause button, or interacting manually with the range slider.

The reset button to the bottom right will reset the positions of all sliders
and resets the values of \{sliders.x\}, \{sliders.y\} and \{sliders.z\}.

## Multiple Sliders

Multiple sliders can be added to the canvas by using by chaining the `add`
method of the `Sliders` class. The `add` method takes a `Slider` object
as an argument. The `Slider` object takes the following arguments:

- `defaultValue`: (Required) The default value of the slider.
- `from`: (DEFAULT -1) The minimum value of the slider.
- `to`: (DEFAULT 1) The maximum value of the slider.
- `step`: (DEFAULT 0.1) The step value of the slider.
- `color`: (DEFAULT PrimeColor.ultramarine) The color of the slider (preference goes to one of the selected PRIME colours).

### Example

<Source language="html" code={`<script lang="ts">
  import { Slider, Sliders } from '$lib/utils/Slider';
  import Canvas from '$lib/d3-components/Canvas.svelte';
  
  const s1 = new Slider(0.5, -2, 2, 0.5, PrimeColor.darkGreen)
  const s2 = new Slider(1, -2, 2, 0.5, PrimeColor.ultramarine)
  const s3 = new Slider(1.5, -2, 2, 0.5, PrimeColor.red)
  const sliders = new Sliders().add(s1).add(s2).add(s3);
</script>

<canvas bind:sliders>
  <!-- Your content here -->
</canvas>`} />

We have created an example with three vectors, each interacting with
a different set of values from the sliders. The green slider controls
only the x direction of the green vector. The blue vector is controlled in
the same way as the green vector, but it adds a y direction that can be
controlled by the blue slider. Finally, the red vector is controlled in
both the x and y directions by the green and blue sliders, and the length
of the vector can be controlled by the red slider.

<Canvas of={SlidersStory.MultiSlider} />

With multiple sliders the user can extend each slider. All other sliders will
be collapsed to preseve verticle with in the applets. Sliders do not behave any
different in `fullscreen` or `iframe` mode.

## Shorthand

For consistency in applets, it is recommended to use the shorthand
method for initializing sliders. Here's how to do it:

    <Source language="html" code={`<script lang="ts">

import { Slider, Sliders } from '$lib/utils/Slider';
  import Canvas from '$lib/d3-components/Canvas.svelte';

const sliders = new Sliders()
.addSlider(0.5, -2, 2, 0.5)
.addSlider(1, -2, 2, 0.5)
.addSlider(1.5, -2, 2, 0.5);

</script>

<canvas bind:sliders>
  <!-- Your content here -->
</canvas>`} />

Coloring these sliders using the shorthand syntax is not allowed. This maintains
consistency as the sliders are always colored in the sequence: red, yellow,
and green, as shown below:

<Canvas of={SlidersStory.MultiSliderShorthand} />
